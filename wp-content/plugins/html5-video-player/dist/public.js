(()=>{"use strict";var e;(e=jQuery)(document).ready((function(){const n=e(".h5vp_player_initializer");n&&t.initialize(n)})),e(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/H5VPPlayer.default",(function(e,n){t.initialize(e)}))}));class t{static initialize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=window.innerWidth;const r=this.getDetectorData(e,t,n);if(!r)return!1;const{wrapper:i,mediaElement:l,options:s,infos:a}=r;o<768&&(s.controls=this.controlsForMobile(s?.controls));const c=new Plyr(l,s);if(s.muted&&s.autoplay&&(c.volume=0),c.elements.volume?.querySelector('[data-plyr="mute"]')?.addEventListener("click",(function(){0===c.volume&&(c.volume=.5)})),a?.setSource&&(c.source={type:"video",title:"Title",sources:[{src:a?.source,type:"video/mp4"}],poster:a?.poster}),window?.innerWidth<992&&(c.on("enterfullscreen",(e=>{screen?.orientation?.lock("landscape")})),c.on("exitfullscreen",(e=>{screen?.orientation?.lock("portrait")}))),c.on("enterfullscreen",(function(){i.classList.add("fullscreen")})),c.on("exitfullscreen",(function(){i.classList.remove("fullscreen")})),!s?.controls?.includes("progress")){const e=i.querySelector(".plyr__controls");e&&(e.style.background="transparent")}"undefined"!=typeof h5vp&&Boolean(parseInt(h5vp?.pauseOther))&&c.on("play",(()=>{if(location.pathname.includes("wp-admin"))return!1;const e=i.dataset?.uniqueId,t=document.querySelectorAll(`video:not([data-unique-id="${e}"] video, a video)`);Object.values(t).map((e=>e.pause()))}))}static getDetectorData(e,t,n){let o=null;if(null===e)return!1;if(void 0!==e[0])return e.map(((e,o)=>{this.initialize(o,t,n)})),!1;if(void 0!==e.length&&0===e.length)return!1;null!==e.querySelector(".h5vp_player")&&(e=e.querySelector(".h5vp_player"));let r=jQuery(e).attr("data-settings");return r&&(r=JSON.parse(r),e.dataset.settings="",t||(t=r?.options),n||(n=r?.infos)),o=e.querySelector("video"),{wrapper:e,options:t,mediaElement:o,infos:n}}static controlsForMobile(e){return e=this.removeControl(e,"restart"),e=this.removeControl(e,"duration"),e=this.removeControl(e,"airplay"),this.removeControl(e,"pip")}static removeControl(e,t){const n=e.indexOf(t);return-1!=n&&e.splice(n,1),e}static setHeight(e,t){const n=jQuery(e).width();t.on("loadeddata",(function(){const o=t.ratio;if(!o)return!1;const[r,i]=o.split(":"),l=n/r*i;e.classList.add("plyr_set_height"),jQuery(e).find(".plyr").css("height",l+"px")})),t.on("ready",(function(){setTimeout((()=>{e.querySelector(".plyr")?.removeAttribute("style")}),300)}))}}})();